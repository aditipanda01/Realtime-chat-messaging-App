{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { Virtuoso } from 'react-virtuoso';\nimport { GiphyPreviewMessage as DefaultGiphyPreviewMessage } from './GiphyPreviewMessage';\nimport { useGiphyPreview } from './hooks/useGiphyPreview';\nimport { useNewMessageNotification } from './hooks/useNewMessageNotification';\nimport { usePrependedMessagesCount } from './hooks/usePrependMessagesCount';\nimport { useShouldForceScrollToBottom } from './hooks/useShouldForceScrollToBottom';\nimport { MessageNotification as DefaultMessageNotification } from './MessageNotification';\nimport { MessageListNotifications as DefaultMessageListNotifications } from './MessageListNotifications';\nimport { processMessages } from './utils';\nimport { DateSeparator as DefaultDateSeparator } from '../DateSeparator/DateSeparator';\nimport { EmptyStateIndicator as DefaultEmptyStateIndicator } from '../EmptyStateIndicator/EmptyStateIndicator';\nimport { EventComponent } from '../EventComponent/EventComponent';\nimport { LoadingIndicator as DefaultLoadingIndicator } from '../Loading/LoadingIndicator';\nimport { Message, MessageSimple } from '../Message';\nimport { useChannelActionContext } from '../../context/ChannelActionContext';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { isDate } from '../../context/TranslationContext';\nvar PREPEND_OFFSET = Math.pow(10, 7);\nvar VirtualizedMessageListWithContext = function (props) {\n  var additionalVirtuosoProps = props.additionalVirtuosoProps,\n    channel = props.channel,\n    closeReactionSelectorOnClick = props.closeReactionSelectorOnClick,\n    customMessageRenderer = props.customMessageRenderer,\n    defaultItemHeight = props.defaultItemHeight,\n    _a = props.disableDateSeparator,\n    disableDateSeparator = _a === void 0 ? true : _a,\n    hasMore = props.hasMore,\n    _b = props.hideDeletedMessages,\n    hideDeletedMessages = _b === void 0 ? false : _b,\n    _c = props.hideNewMessageSeparator,\n    hideNewMessageSeparator = _c === void 0 ? false : _c,\n    loadingMore = props.loadingMore,\n    loadMore = props.loadMore,\n    propMessage = props.Message,\n    _d = props.messageLimit,\n    messageLimit = _d === void 0 ? 100 : _d,\n    messages = props.messages,\n    notifications = props.notifications,\n    _e = props.overscan,\n    overscan = _e === void 0 ? 0 : _e,\n    // TODO: refactor to scrollSeekPlaceHolderConfiguration and components.ScrollSeekPlaceholder, like the Virtuoso Component\n    scrollSeekPlaceHolder = props.scrollSeekPlaceHolder,\n    _f = props.scrollToLatestMessageOnFocus,\n    scrollToLatestMessageOnFocus = _f === void 0 ? false : _f,\n    _g = props.separateGiphyPreview,\n    separateGiphyPreview = _g === void 0 ? false : _g,\n    _h = props.shouldGroupByUser,\n    shouldGroupByUser = _h === void 0 ? false : _h,\n    _j = props.stickToBottomScrollBehavior,\n    stickToBottomScrollBehavior = _j === void 0 ? 'smooth' : _j;\n  var _k = useComponentContext('VirtualizedMessageList'),\n    _l = _k.DateSeparator,\n    DateSeparator = _l === void 0 ? DefaultDateSeparator : _l,\n    _m = _k.EmptyStateIndicator,\n    EmptyStateIndicator = _m === void 0 ? DefaultEmptyStateIndicator : _m,\n    _o = _k.GiphyPreviewMessage,\n    GiphyPreviewMessage = _o === void 0 ? DefaultGiphyPreviewMessage : _o,\n    _p = _k.LoadingIndicator,\n    LoadingIndicator = _p === void 0 ? DefaultLoadingIndicator : _p,\n    _q = _k.MessageListNotifications,\n    MessageListNotifications = _q === void 0 ? DefaultMessageListNotifications : _q,\n    _r = _k.MessageNotification,\n    MessageNotification = _r === void 0 ? DefaultMessageNotification : _r,\n    _s = _k.MessageSystem,\n    MessageSystem = _s === void 0 ? EventComponent : _s,\n    _t = _k.TypingIndicator,\n    TypingIndicator = _t === void 0 ? null : _t,\n    _u = _k.VirtualMessage,\n    contextMessage = _u === void 0 ? MessageSimple : _u;\n  var _v = useChatContext('VirtualizedMessageList'),\n    client = _v.client,\n    customClasses = _v.customClasses;\n  var lastRead = useMemo(function () {\n    var _a;\n    return (_a = channel.lastRead) === null || _a === void 0 ? void 0 : _a.call(channel);\n  }, [channel]);\n  var MessageUIComponent = propMessage || contextMessage;\n  var _w = useGiphyPreview(separateGiphyPreview),\n    giphyPreviewMessage = _w.giphyPreviewMessage,\n    setGiphyPreviewMessage = _w.setGiphyPreviewMessage;\n  var processedMessages = useMemo(function () {\n    if (typeof messages === 'undefined') {\n      return [];\n    }\n    if (disableDateSeparator && !hideDeletedMessages && hideNewMessageSeparator && !separateGiphyPreview) {\n      return messages;\n    }\n    return processMessages({\n      disableDateSeparator: disableDateSeparator,\n      hideDeletedMessages: hideDeletedMessages,\n      hideNewMessageSeparator: hideNewMessageSeparator,\n      lastRead: lastRead,\n      messages: messages,\n      separateGiphyPreview: separateGiphyPreview,\n      setGiphyPreviewMessage: setGiphyPreviewMessage,\n      userId: client.userID || ''\n    });\n  }, [disableDateSeparator, hideDeletedMessages, hideNewMessageSeparator, lastRead, messages, messages === null || messages === void 0 ? void 0 : messages.length, client.userID]);\n  var virtuoso = useRef(null);\n  var _x = useNewMessageNotification(processedMessages, client.userID),\n    atBottom = _x.atBottom,\n    newMessagesNotification = _x.newMessagesNotification,\n    setNewMessagesNotification = _x.setNewMessagesNotification;\n  var scrollToBottom = useCallback(function () {\n    if (virtuoso.current) {\n      virtuoso.current.scrollToIndex(processedMessages.length - 1);\n    }\n    setNewMessagesNotification(false);\n  }, [virtuoso, processedMessages, setNewMessagesNotification, processedMessages.length]);\n  var scrollToBottomIfConfigured = useCallback(function (event) {\n    if (scrollToLatestMessageOnFocus && event.target === window) {\n      setTimeout(scrollToBottom, 100);\n    }\n  }, [scrollToLatestMessageOnFocus, scrollToBottom]);\n  useEffect(function () {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('focus', scrollToBottomIfConfigured);\n    }\n    return function () {\n      return window.removeEventListener('focus', scrollToBottomIfConfigured);\n    };\n  }, [scrollToBottomIfConfigured]);\n  var numItemsPrepended = usePrependedMessagesCount(processedMessages);\n  var shouldForceScrollToBottom = useShouldForceScrollToBottom(processedMessages, client.userID);\n  var followOutput = function (isAtBottom) {\n    if (shouldForceScrollToBottom()) {\n      return isAtBottom ? stickToBottomScrollBehavior : 'auto';\n    }\n    // a message from another user has been received - don't scroll to bottom unless already there\n    return isAtBottom ? stickToBottomScrollBehavior : false;\n  };\n  var messageRenderer = useCallback(function (messageList, virtuosoIndex) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    var streamMessageIndex = virtuosoIndex + numItemsPrepended - PREPEND_OFFSET;\n    // use custom renderer supplied by client if present and skip the rest\n    if (customMessageRenderer) {\n      return customMessageRenderer(messageList, streamMessageIndex);\n    }\n    var message = messageList[streamMessageIndex];\n    if (message.customType === 'message.date' && message.date && isDate(message.date)) {\n      return React.createElement(DateSeparator, {\n        date: message.date,\n        unread: message.unread\n      });\n    }\n    if (!message) return React.createElement(\"div\", {\n      style: {\n        height: '1px'\n      }\n    }); // returning null or zero height breaks the virtuoso\n    if (message.type === 'system') {\n      return React.createElement(MessageSystem, {\n        message: message\n      });\n    }\n    var groupedByUser = shouldGroupByUser && streamMessageIndex > 0 && ((_a = message.user) === null || _a === void 0 ? void 0 : _a.id) === ((_b = messageList[streamMessageIndex - 1].user) === null || _b === void 0 ? void 0 : _b.id);\n    var firstOfGroup = shouldGroupByUser && ((_c = message.user) === null || _c === void 0 ? void 0 : _c.id) !== ((_e = (_d = messageList[streamMessageIndex - 1]) === null || _d === void 0 ? void 0 : _d.user) === null || _e === void 0 ? void 0 : _e.id);\n    var endOfGroup = shouldGroupByUser && ((_f = message.user) === null || _f === void 0 ? void 0 : _f.id) !== ((_h = (_g = messageList[streamMessageIndex + 1]) === null || _g === void 0 ? void 0 : _g.user) === null || _h === void 0 ? void 0 : _h.id);\n    return React.createElement(Message, {\n      closeReactionSelectorOnClick: closeReactionSelectorOnClick,\n      customMessageActions: props.customMessageActions,\n      endOfGroup: endOfGroup,\n      firstOfGroup: firstOfGroup,\n      groupedByUser: groupedByUser,\n      message: message,\n      Message: MessageUIComponent,\n      messageActions: props.messageActions\n    });\n  }, [customMessageRenderer, shouldGroupByUser, numItemsPrepended]);\n  var virtuosoComponents = useMemo(function () {\n    var EmptyPlaceholder = function () {\n      return React.createElement(React.Fragment, null, EmptyStateIndicator && React.createElement(EmptyStateIndicator, {\n        listType: 'message'\n      }));\n    };\n    var Header = function () {\n      return loadingMore ? React.createElement(\"div\", {\n        className: 'str-chat__virtual-list__loading'\n      }, React.createElement(LoadingIndicator, {\n        size: 20\n      })) : React.createElement(React.Fragment, null);\n    };\n    var virtualMessageClass = (customClasses === null || customClasses === void 0 ? void 0 : customClasses.virtualMessage) || 'str-chat__virtual-list-message-wrapper';\n    // using 'display: inline-block' traps CSS margins of the item elements, preventing incorrect item measurements\n    var Item = function (props) {\n      return React.createElement(\"div\", __assign({}, props, {\n        className: virtualMessageClass\n      }));\n    };\n    var Footer = function () {\n      return TypingIndicator ? React.createElement(TypingIndicator, {\n        avatarSize: 24\n      }) : React.createElement(React.Fragment, null);\n    };\n    return {\n      EmptyPlaceholder: EmptyPlaceholder,\n      Footer: Footer,\n      Header: Header,\n      Item: Item\n    };\n  }, [loadingMore]);\n  var atBottomStateChange = function (isAtBottom) {\n    atBottom.current = isAtBottom;\n    if (isAtBottom && newMessagesNotification) {\n      setNewMessagesNotification(false);\n    }\n  };\n  var startReached = function () {\n    if (hasMore && loadMore) {\n      loadMore(messageLimit);\n    }\n  };\n  if (!processedMessages) return null;\n  var virtualizedMessageListClass = (customClasses === null || customClasses === void 0 ? void 0 : customClasses.virtualizedMessageList) || 'str-chat__virtual-list';\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: virtualizedMessageListClass\n  }, React.createElement(Virtuoso, __assign({\n    atBottomStateChange: atBottomStateChange,\n    components: virtuosoComponents,\n    firstItemIndex: PREPEND_OFFSET - numItemsPrepended,\n    followOutput: followOutput,\n    initialTopMostItemIndex: processedMessages.length ? processedMessages.length - 1 : 0,\n    itemContent: function (i) {\n      return messageRenderer(processedMessages, i);\n    },\n    overscan: overscan,\n    ref: virtuoso,\n    startReached: startReached,\n    style: {\n      overflowX: 'hidden'\n    },\n    totalCount: processedMessages.length\n  }, additionalVirtuosoProps, scrollSeekPlaceHolder ? {\n    scrollSeek: scrollSeekPlaceHolder\n  } : {}, defaultItemHeight ? {\n    defaultItemHeight: defaultItemHeight\n  } : {}))), React.createElement(MessageListNotifications, {\n    hasNewMessages: newMessagesNotification,\n    MessageNotification: MessageNotification,\n    notifications: notifications,\n    scrollToBottom: scrollToBottom\n  }), giphyPreviewMessage && React.createElement(GiphyPreviewMessage, {\n    message: giphyPreviewMessage\n  }));\n};\n/**\n * The VirtualizedMessageList component renders a list of messages in a virtualized list.\n * It is a consumer of the React contexts set in [Channel](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Channel/Channel.tsx).\n *\n * **Note**: It works well when there are thousands of messages in a channel, it has a shortcoming though - the message UI should have a fixed height.\n */\nexport function VirtualizedMessageList(props) {\n  var loadMore = useChannelActionContext('VirtualizedMessageList').loadMore;\n  var _a = useChannelStateContext('VirtualizedMessageList'),\n    channel = _a.channel,\n    hasMore = _a.hasMore,\n    loadingMore = _a.loadingMore,\n    contextMessages = _a.messages,\n    notifications = _a.notifications;\n  var messages = props.messages || contextMessages;\n  return React.createElement(VirtualizedMessageListWithContext, __assign({\n    channel: channel,\n    hasMore: !!hasMore,\n    loadingMore: !!loadingMore,\n    loadMore: loadMore,\n    messages: messages,\n    notifications: notifications\n  }, props));\n}","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useCallback","useEffect","useMemo","useRef","Virtuoso","GiphyPreviewMessage","DefaultGiphyPreviewMessage","useGiphyPreview","useNewMessageNotification","usePrependedMessagesCount","useShouldForceScrollToBottom","MessageNotification","DefaultMessageNotification","MessageListNotifications","DefaultMessageListNotifications","processMessages","DateSeparator","DefaultDateSeparator","EmptyStateIndicator","DefaultEmptyStateIndicator","EventComponent","LoadingIndicator","DefaultLoadingIndicator","Message","MessageSimple","useChannelActionContext","useChannelStateContext","useChatContext","useComponentContext","isDate","PREPEND_OFFSET","Math","pow","VirtualizedMessageListWithContext","props","additionalVirtuosoProps","channel","closeReactionSelectorOnClick","customMessageRenderer","defaultItemHeight","_a","disableDateSeparator","hasMore","_b","hideDeletedMessages","_c","hideNewMessageSeparator","loadingMore","loadMore","propMessage","_d","messageLimit","messages","notifications","_e","overscan","scrollSeekPlaceHolder","_f","scrollToLatestMessageOnFocus","_g","separateGiphyPreview","_h","shouldGroupByUser","_j","stickToBottomScrollBehavior","_k","_l","_m","_o","_p","_q","_r","_s","MessageSystem","_t","TypingIndicator","_u","VirtualMessage","contextMessage","_v","client","customClasses","lastRead","MessageUIComponent","_w","giphyPreviewMessage","setGiphyPreviewMessage","processedMessages","userId","userID","virtuoso","_x","atBottom","newMessagesNotification","setNewMessagesNotification","scrollToBottom","current","scrollToIndex","scrollToBottomIfConfigured","event","target","window","setTimeout","addEventListener","removeEventListener","numItemsPrepended","shouldForceScrollToBottom","followOutput","isAtBottom","messageRenderer","messageList","virtuosoIndex","streamMessageIndex","message","customType","date","createElement","unread","style","height","type","groupedByUser","user","id","firstOfGroup","endOfGroup","customMessageActions","messageActions","virtuosoComponents","EmptyPlaceholder","Fragment","listType","Header","className","size","virtualMessageClass","virtualMessage","Item","Footer","avatarSize","atBottomStateChange","startReached","virtualizedMessageListClass","virtualizedMessageList","components","firstItemIndex","initialTopMostItemIndex","itemContent","ref","overflowX","totalCount","scrollSeek","hasNewMessages","VirtualizedMessageList","contextMessages"],"sources":["C:/Users/HP/Desktop/project_medical_pager_chat-master/node_modules/stream-chat-react/dist/components/MessageList/VirtualizedMessageList.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { Virtuoso, } from 'react-virtuoso';\nimport { GiphyPreviewMessage as DefaultGiphyPreviewMessage } from './GiphyPreviewMessage';\nimport { useGiphyPreview } from './hooks/useGiphyPreview';\nimport { useNewMessageNotification } from './hooks/useNewMessageNotification';\nimport { usePrependedMessagesCount } from './hooks/usePrependMessagesCount';\nimport { useShouldForceScrollToBottom } from './hooks/useShouldForceScrollToBottom';\nimport { MessageNotification as DefaultMessageNotification } from './MessageNotification';\nimport { MessageListNotifications as DefaultMessageListNotifications } from './MessageListNotifications';\nimport { processMessages } from './utils';\nimport { DateSeparator as DefaultDateSeparator } from '../DateSeparator/DateSeparator';\nimport { EmptyStateIndicator as DefaultEmptyStateIndicator } from '../EmptyStateIndicator/EmptyStateIndicator';\nimport { EventComponent } from '../EventComponent/EventComponent';\nimport { LoadingIndicator as DefaultLoadingIndicator } from '../Loading/LoadingIndicator';\nimport { Message, MessageSimple } from '../Message';\nimport { useChannelActionContext, } from '../../context/ChannelActionContext';\nimport { useChannelStateContext, } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { isDate } from '../../context/TranslationContext';\nvar PREPEND_OFFSET = Math.pow(10, 7);\nvar VirtualizedMessageListWithContext = function (props) {\n    var additionalVirtuosoProps = props.additionalVirtuosoProps, channel = props.channel, closeReactionSelectorOnClick = props.closeReactionSelectorOnClick, customMessageRenderer = props.customMessageRenderer, defaultItemHeight = props.defaultItemHeight, _a = props.disableDateSeparator, disableDateSeparator = _a === void 0 ? true : _a, hasMore = props.hasMore, _b = props.hideDeletedMessages, hideDeletedMessages = _b === void 0 ? false : _b, _c = props.hideNewMessageSeparator, hideNewMessageSeparator = _c === void 0 ? false : _c, loadingMore = props.loadingMore, loadMore = props.loadMore, propMessage = props.Message, _d = props.messageLimit, messageLimit = _d === void 0 ? 100 : _d, messages = props.messages, notifications = props.notifications, _e = props.overscan, overscan = _e === void 0 ? 0 : _e, \n    // TODO: refactor to scrollSeekPlaceHolderConfiguration and components.ScrollSeekPlaceholder, like the Virtuoso Component\n    scrollSeekPlaceHolder = props.scrollSeekPlaceHolder, _f = props.scrollToLatestMessageOnFocus, scrollToLatestMessageOnFocus = _f === void 0 ? false : _f, _g = props.separateGiphyPreview, separateGiphyPreview = _g === void 0 ? false : _g, _h = props.shouldGroupByUser, shouldGroupByUser = _h === void 0 ? false : _h, _j = props.stickToBottomScrollBehavior, stickToBottomScrollBehavior = _j === void 0 ? 'smooth' : _j;\n    var _k = useComponentContext('VirtualizedMessageList'), _l = _k.DateSeparator, DateSeparator = _l === void 0 ? DefaultDateSeparator : _l, _m = _k.EmptyStateIndicator, EmptyStateIndicator = _m === void 0 ? DefaultEmptyStateIndicator : _m, _o = _k.GiphyPreviewMessage, GiphyPreviewMessage = _o === void 0 ? DefaultGiphyPreviewMessage : _o, _p = _k.LoadingIndicator, LoadingIndicator = _p === void 0 ? DefaultLoadingIndicator : _p, _q = _k.MessageListNotifications, MessageListNotifications = _q === void 0 ? DefaultMessageListNotifications : _q, _r = _k.MessageNotification, MessageNotification = _r === void 0 ? DefaultMessageNotification : _r, _s = _k.MessageSystem, MessageSystem = _s === void 0 ? EventComponent : _s, _t = _k.TypingIndicator, TypingIndicator = _t === void 0 ? null : _t, _u = _k.VirtualMessage, contextMessage = _u === void 0 ? MessageSimple : _u;\n    var _v = useChatContext('VirtualizedMessageList'), client = _v.client, customClasses = _v.customClasses;\n    var lastRead = useMemo(function () { var _a; return (_a = channel.lastRead) === null || _a === void 0 ? void 0 : _a.call(channel); }, [channel]);\n    var MessageUIComponent = propMessage || contextMessage;\n    var _w = useGiphyPreview(separateGiphyPreview), giphyPreviewMessage = _w.giphyPreviewMessage, setGiphyPreviewMessage = _w.setGiphyPreviewMessage;\n    var processedMessages = useMemo(function () {\n        if (typeof messages === 'undefined') {\n            return [];\n        }\n        if (disableDateSeparator &&\n            !hideDeletedMessages &&\n            hideNewMessageSeparator &&\n            !separateGiphyPreview) {\n            return messages;\n        }\n        return processMessages({\n            disableDateSeparator: disableDateSeparator,\n            hideDeletedMessages: hideDeletedMessages,\n            hideNewMessageSeparator: hideNewMessageSeparator,\n            lastRead: lastRead,\n            messages: messages,\n            separateGiphyPreview: separateGiphyPreview,\n            setGiphyPreviewMessage: setGiphyPreviewMessage,\n            userId: client.userID || '',\n        });\n    }, [\n        disableDateSeparator,\n        hideDeletedMessages,\n        hideNewMessageSeparator,\n        lastRead,\n        messages,\n        messages === null || messages === void 0 ? void 0 : messages.length,\n        client.userID,\n    ]);\n    var virtuoso = useRef(null);\n    var _x = useNewMessageNotification(processedMessages, client.userID), atBottom = _x.atBottom, newMessagesNotification = _x.newMessagesNotification, setNewMessagesNotification = _x.setNewMessagesNotification;\n    var scrollToBottom = useCallback(function () {\n        if (virtuoso.current) {\n            virtuoso.current.scrollToIndex(processedMessages.length - 1);\n        }\n        setNewMessagesNotification(false);\n    }, [virtuoso, processedMessages, setNewMessagesNotification, processedMessages.length]);\n    var scrollToBottomIfConfigured = useCallback(function (event) {\n        if (scrollToLatestMessageOnFocus && event.target === window) {\n            setTimeout(scrollToBottom, 100);\n        }\n    }, [scrollToLatestMessageOnFocus, scrollToBottom]);\n    useEffect(function () {\n        if (typeof window !== 'undefined') {\n            window.addEventListener('focus', scrollToBottomIfConfigured);\n        }\n        return function () { return window.removeEventListener('focus', scrollToBottomIfConfigured); };\n    }, [scrollToBottomIfConfigured]);\n    var numItemsPrepended = usePrependedMessagesCount(processedMessages);\n    var shouldForceScrollToBottom = useShouldForceScrollToBottom(processedMessages, client.userID);\n    var followOutput = function (isAtBottom) {\n        if (shouldForceScrollToBottom()) {\n            return isAtBottom ? stickToBottomScrollBehavior : 'auto';\n        }\n        // a message from another user has been received - don't scroll to bottom unless already there\n        return isAtBottom ? stickToBottomScrollBehavior : false;\n    };\n    var messageRenderer = useCallback(function (messageList, virtuosoIndex) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        var streamMessageIndex = virtuosoIndex + numItemsPrepended - PREPEND_OFFSET;\n        // use custom renderer supplied by client if present and skip the rest\n        if (customMessageRenderer) {\n            return customMessageRenderer(messageList, streamMessageIndex);\n        }\n        var message = messageList[streamMessageIndex];\n        if (message.customType === 'message.date' && message.date && isDate(message.date)) {\n            return React.createElement(DateSeparator, { date: message.date, unread: message.unread });\n        }\n        if (!message)\n            return React.createElement(\"div\", { style: { height: '1px' } }); // returning null or zero height breaks the virtuoso\n        if (message.type === 'system') {\n            return React.createElement(MessageSystem, { message: message });\n        }\n        var groupedByUser = shouldGroupByUser &&\n            streamMessageIndex > 0 &&\n            ((_a = message.user) === null || _a === void 0 ? void 0 : _a.id) === ((_b = messageList[streamMessageIndex - 1].user) === null || _b === void 0 ? void 0 : _b.id);\n        var firstOfGroup = shouldGroupByUser && ((_c = message.user) === null || _c === void 0 ? void 0 : _c.id) !== ((_e = (_d = messageList[streamMessageIndex - 1]) === null || _d === void 0 ? void 0 : _d.user) === null || _e === void 0 ? void 0 : _e.id);\n        var endOfGroup = shouldGroupByUser && ((_f = message.user) === null || _f === void 0 ? void 0 : _f.id) !== ((_h = (_g = messageList[streamMessageIndex + 1]) === null || _g === void 0 ? void 0 : _g.user) === null || _h === void 0 ? void 0 : _h.id);\n        return (React.createElement(Message, { closeReactionSelectorOnClick: closeReactionSelectorOnClick, customMessageActions: props.customMessageActions, endOfGroup: endOfGroup, firstOfGroup: firstOfGroup, groupedByUser: groupedByUser, message: message, Message: MessageUIComponent, messageActions: props.messageActions }));\n    }, [customMessageRenderer, shouldGroupByUser, numItemsPrepended]);\n    var virtuosoComponents = useMemo(function () {\n        var EmptyPlaceholder = function () { return (React.createElement(React.Fragment, null, EmptyStateIndicator && React.createElement(EmptyStateIndicator, { listType: 'message' }))); };\n        var Header = function () {\n            return loadingMore ? (React.createElement(\"div\", { className: 'str-chat__virtual-list__loading' },\n                React.createElement(LoadingIndicator, { size: 20 }))) : (React.createElement(React.Fragment, null));\n        };\n        var virtualMessageClass = (customClasses === null || customClasses === void 0 ? void 0 : customClasses.virtualMessage) || 'str-chat__virtual-list-message-wrapper';\n        // using 'display: inline-block' traps CSS margins of the item elements, preventing incorrect item measurements\n        var Item = function (props) { return React.createElement(\"div\", __assign({}, props, { className: virtualMessageClass })); };\n        var Footer = function () {\n            return TypingIndicator ? React.createElement(TypingIndicator, { avatarSize: 24 }) : React.createElement(React.Fragment, null);\n        };\n        return {\n            EmptyPlaceholder: EmptyPlaceholder,\n            Footer: Footer,\n            Header: Header,\n            Item: Item,\n        };\n    }, [loadingMore]);\n    var atBottomStateChange = function (isAtBottom) {\n        atBottom.current = isAtBottom;\n        if (isAtBottom && newMessagesNotification) {\n            setNewMessagesNotification(false);\n        }\n    };\n    var startReached = function () {\n        if (hasMore && loadMore) {\n            loadMore(messageLimit);\n        }\n    };\n    if (!processedMessages)\n        return null;\n    var virtualizedMessageListClass = (customClasses === null || customClasses === void 0 ? void 0 : customClasses.virtualizedMessageList) || 'str-chat__virtual-list';\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: virtualizedMessageListClass },\n            React.createElement(Virtuoso, __assign({ atBottomStateChange: atBottomStateChange, components: virtuosoComponents, firstItemIndex: PREPEND_OFFSET - numItemsPrepended, followOutput: followOutput, initialTopMostItemIndex: processedMessages.length ? processedMessages.length - 1 : 0, itemContent: function (i) { return messageRenderer(processedMessages, i); }, overscan: overscan, ref: virtuoso, startReached: startReached, style: { overflowX: 'hidden' }, totalCount: processedMessages.length }, additionalVirtuosoProps, (scrollSeekPlaceHolder ? { scrollSeek: scrollSeekPlaceHolder } : {}), (defaultItemHeight ? { defaultItemHeight: defaultItemHeight } : {})))),\n        React.createElement(MessageListNotifications, { hasNewMessages: newMessagesNotification, MessageNotification: MessageNotification, notifications: notifications, scrollToBottom: scrollToBottom }),\n        giphyPreviewMessage && React.createElement(GiphyPreviewMessage, { message: giphyPreviewMessage })));\n};\n/**\n * The VirtualizedMessageList component renders a list of messages in a virtualized list.\n * It is a consumer of the React contexts set in [Channel](https://github.com/GetStream/stream-chat-react/blob/master/src/components/Channel/Channel.tsx).\n *\n * **Note**: It works well when there are thousands of messages in a channel, it has a shortcoming though - the message UI should have a fixed height.\n */\nexport function VirtualizedMessageList(props) {\n    var loadMore = useChannelActionContext('VirtualizedMessageList').loadMore;\n    var _a = useChannelStateContext('VirtualizedMessageList'), channel = _a.channel, hasMore = _a.hasMore, loadingMore = _a.loadingMore, contextMessages = _a.messages, notifications = _a.notifications;\n    var messages = props.messages || contextMessages;\n    return (React.createElement(VirtualizedMessageListWithContext, __assign({ channel: channel, hasMore: !!hasMore, loadingMore: !!loadingMore, loadMore: loadMore, messages: messages, notifications: notifications }, props)));\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}