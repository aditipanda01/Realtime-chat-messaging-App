{"ast":null,"code":"import React, { useEffect } from 'react';\nimport { FilePreviewer, ImagePreviewer } from 'react-file-utils';\nimport { useBreakpoint } from '../Message/hooks';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nexport var UploadsPreview = function () {\n  var _a = useChannelStateContext('UploadsPreview'),\n    maxNumberOfFiles = _a.maxNumberOfFiles,\n    multipleUploads = _a.multipleUploads;\n  var messageInput = useMessageInputContext('UploadsPreview');\n  var fileOrder = messageInput.fileOrder,\n    fileUploads = messageInput.fileUploads,\n    imageOrder = messageInput.imageOrder,\n    imageUploads = messageInput.imageUploads,\n    numberOfUploads = messageInput.numberOfUploads,\n    removeFile = messageInput.removeFile,\n    removeImage = messageInput.removeImage,\n    text = messageInput.text,\n    uploadFile = messageInput.uploadFile,\n    uploadImage = messageInput.uploadImage,\n    uploadNewFiles = messageInput.uploadNewFiles;\n  var imagesToPreview = imageOrder.map(function (id) {\n    return imageUploads[id];\n  });\n  var filesToPreview = fileOrder.map(function (id) {\n    return fileUploads[id];\n  });\n  var device = useBreakpoint().device;\n  useEffect(function () {\n    var elements = document.getElementsByClassName('str-chat__send-button');\n    var sendButton = elements.item(0);\n    if (sendButton instanceof HTMLButtonElement) {\n      if (numberOfUploads && !text || device !== 'full') {\n        sendButton.style.display = 'block';\n      } else {\n        sendButton.style.display = 'none';\n      }\n    }\n  }, [device, numberOfUploads, text]);\n  return React.createElement(React.Fragment, null, imageOrder.length > 0 && React.createElement(ImagePreviewer, {\n    disabled: !multipleUploads || maxNumberOfFiles !== undefined && numberOfUploads >= maxNumberOfFiles,\n    handleFiles: uploadNewFiles,\n    handleRemove: removeImage,\n    handleRetry: uploadImage,\n    imageUploads: imagesToPreview,\n    multiple: multipleUploads\n  }), fileOrder.length > 0 && React.createElement(FilePreviewer, {\n    handleFiles: uploadNewFiles,\n    handleRemove: removeFile,\n    handleRetry: uploadFile,\n    uploads: filesToPreview\n  }));\n};","map":{"version":3,"names":["React","useEffect","FilePreviewer","ImagePreviewer","useBreakpoint","useChannelStateContext","useMessageInputContext","UploadsPreview","_a","maxNumberOfFiles","multipleUploads","messageInput","fileOrder","fileUploads","imageOrder","imageUploads","numberOfUploads","removeFile","removeImage","text","uploadFile","uploadImage","uploadNewFiles","imagesToPreview","map","id","filesToPreview","device","elements","document","getElementsByClassName","sendButton","item","HTMLButtonElement","style","display","createElement","Fragment","length","disabled","undefined","handleFiles","handleRemove","handleRetry","multiple","uploads"],"sources":["C:/Users/HP/Desktop/project_medical_pager_chat-master/node_modules/stream-chat-react/dist/components/MessageInput/UploadsPreview.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { FilePreviewer, ImagePreviewer } from 'react-file-utils';\nimport { useBreakpoint } from '../Message/hooks';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nexport var UploadsPreview = function () {\n    var _a = useChannelStateContext('UploadsPreview'), maxNumberOfFiles = _a.maxNumberOfFiles, multipleUploads = _a.multipleUploads;\n    var messageInput = useMessageInputContext('UploadsPreview');\n    var fileOrder = messageInput.fileOrder, fileUploads = messageInput.fileUploads, imageOrder = messageInput.imageOrder, imageUploads = messageInput.imageUploads, numberOfUploads = messageInput.numberOfUploads, removeFile = messageInput.removeFile, removeImage = messageInput.removeImage, text = messageInput.text, uploadFile = messageInput.uploadFile, uploadImage = messageInput.uploadImage, uploadNewFiles = messageInput.uploadNewFiles;\n    var imagesToPreview = imageOrder.map(function (id) { return imageUploads[id]; });\n    var filesToPreview = fileOrder.map(function (id) { return fileUploads[id]; });\n    var device = useBreakpoint().device;\n    useEffect(function () {\n        var elements = document.getElementsByClassName('str-chat__send-button');\n        var sendButton = elements.item(0);\n        if (sendButton instanceof HTMLButtonElement) {\n            if ((numberOfUploads && !text) || device !== 'full') {\n                sendButton.style.display = 'block';\n            }\n            else {\n                sendButton.style.display = 'none';\n            }\n        }\n    }, [device, numberOfUploads, text]);\n    return (React.createElement(React.Fragment, null,\n        imageOrder.length > 0 && (React.createElement(ImagePreviewer, { disabled: !multipleUploads ||\n                (maxNumberOfFiles !== undefined && numberOfUploads >= maxNumberOfFiles), handleFiles: uploadNewFiles, handleRemove: removeImage, handleRetry: uploadImage, imageUploads: imagesToPreview, multiple: multipleUploads })),\n        fileOrder.length > 0 && (React.createElement(FilePreviewer, { handleFiles: uploadNewFiles, handleRemove: removeFile, handleRetry: uploadFile, uploads: filesToPreview }))));\n};\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,aAAa,EAAEC,cAAc,QAAQ,kBAAkB;AAChE,SAASC,aAAa,QAAQ,kBAAkB;AAChD,SAASC,sBAAsB,QAAQ,mCAAmC;AAC1E,SAASC,sBAAsB,QAAQ,mCAAmC;AAC1E,OAAO,IAAIC,cAAc,GAAG,SAAAA,CAAA,EAAY;EACpC,IAAIC,EAAE,GAAGH,sBAAsB,CAAC,gBAAgB,CAAC;IAAEI,gBAAgB,GAAGD,EAAE,CAACC,gBAAgB;IAAEC,eAAe,GAAGF,EAAE,CAACE,eAAe;EAC/H,IAAIC,YAAY,GAAGL,sBAAsB,CAAC,gBAAgB,CAAC;EAC3D,IAAIM,SAAS,GAAGD,YAAY,CAACC,SAAS;IAAEC,WAAW,GAAGF,YAAY,CAACE,WAAW;IAAEC,UAAU,GAAGH,YAAY,CAACG,UAAU;IAAEC,YAAY,GAAGJ,YAAY,CAACI,YAAY;IAAEC,eAAe,GAAGL,YAAY,CAACK,eAAe;IAAEC,UAAU,GAAGN,YAAY,CAACM,UAAU;IAAEC,WAAW,GAAGP,YAAY,CAACO,WAAW;IAAEC,IAAI,GAAGR,YAAY,CAACQ,IAAI;IAAEC,UAAU,GAAGT,YAAY,CAACS,UAAU;IAAEC,WAAW,GAAGV,YAAY,CAACU,WAAW;IAAEC,cAAc,GAAGX,YAAY,CAACW,cAAc;EAClb,IAAIC,eAAe,GAAGT,UAAU,CAACU,GAAG,CAAC,UAAUC,EAAE,EAAE;IAAE,OAAOV,YAAY,CAACU,EAAE,CAAC;EAAE,CAAC,CAAC;EAChF,IAAIC,cAAc,GAAGd,SAAS,CAACY,GAAG,CAAC,UAAUC,EAAE,EAAE;IAAE,OAAOZ,WAAW,CAACY,EAAE,CAAC;EAAE,CAAC,CAAC;EAC7E,IAAIE,MAAM,GAAGvB,aAAa,CAAC,CAAC,CAACuB,MAAM;EACnC1B,SAAS,CAAC,YAAY;IAClB,IAAI2B,QAAQ,GAAGC,QAAQ,CAACC,sBAAsB,CAAC,uBAAuB,CAAC;IACvE,IAAIC,UAAU,GAAGH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC;IACjC,IAAID,UAAU,YAAYE,iBAAiB,EAAE;MACzC,IAAKjB,eAAe,IAAI,CAACG,IAAI,IAAKQ,MAAM,KAAK,MAAM,EAAE;QACjDI,UAAU,CAACG,KAAK,CAACC,OAAO,GAAG,OAAO;MACtC,CAAC,MACI;QACDJ,UAAU,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;MACrC;IACJ;EACJ,CAAC,EAAE,CAACR,MAAM,EAAEX,eAAe,EAAEG,IAAI,CAAC,CAAC;EACnC,OAAQnB,KAAK,CAACoC,aAAa,CAACpC,KAAK,CAACqC,QAAQ,EAAE,IAAI,EAC5CvB,UAAU,CAACwB,MAAM,GAAG,CAAC,IAAKtC,KAAK,CAACoC,aAAa,CAACjC,cAAc,EAAE;IAAEoC,QAAQ,EAAE,CAAC7B,eAAe,IACjFD,gBAAgB,KAAK+B,SAAS,IAAIxB,eAAe,IAAIP,gBAAiB;IAAEgC,WAAW,EAAEnB,cAAc;IAAEoB,YAAY,EAAExB,WAAW;IAAEyB,WAAW,EAAEtB,WAAW;IAAEN,YAAY,EAAEQ,eAAe;IAAEqB,QAAQ,EAAElC;EAAgB,CAAC,CAAE,EAC/NE,SAAS,CAAC0B,MAAM,GAAG,CAAC,IAAKtC,KAAK,CAACoC,aAAa,CAAClC,aAAa,EAAE;IAAEuC,WAAW,EAAEnB,cAAc;IAAEoB,YAAY,EAAEzB,UAAU;IAAE0B,WAAW,EAAEvB,UAAU;IAAEyB,OAAO,EAAEnB;EAAe,CAAC,CAAE,CAAC;AAClL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}