{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageRepliesCountButton as DefaultMessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { MessageTimestamp as DefaultTimestamp } from './MessageTimestamp';\nimport { useReactionClick } from './hooks';\nimport { PinIndicator as DefaultPinIndicator, ErrorIcon, ReactionIcon, ThreadIcon } from './icons';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { areMessageUIPropsEqual, MESSAGE_ACTIONS, showMessageActionsBox } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { MessageActions } from '../MessageActions';\nimport { EditMessageForm as DefaultEditMessageForm, MessageInput } from '../MessageInput';\nimport { ReactionSelector as DefaultReactionSelector, SimpleReactionsList as DefaultReactionsList } from '../Reactions';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\nvar MessageLivestreamWithContext = function (props) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n  var clearEditingState = props.clearEditingState,\n    editing = props.editing,\n    groupStyles = props.groupStyles,\n    handleAction = props.handleAction,\n    handleOpenThread = props.handleOpenThread,\n    handleRetry = props.handleRetry,\n    initialMessage = props.initialMessage,\n    isReactionEnabled = props.isReactionEnabled,\n    message = props.message,\n    messageWrapperRef = props.messageWrapperRef,\n    onMentionsClickMessage = props.onMentionsClickMessage,\n    onMentionsHoverMessage = props.onMentionsHoverMessage,\n    onReactionListClick = props.onReactionListClick,\n    onUserClick = props.onUserClick,\n    onUserHover = props.onUserHover,\n    reactionSelectorRef = props.reactionSelectorRef,\n    _l = props.renderText,\n    renderText = _l === void 0 ? defaultRenderText : _l,\n    showDetailedReactions = props.showDetailedReactions,\n    unsafeHTML = props.unsafeHTML;\n  var _m = useComponentContext('MessageLivestream'),\n    Attachment = _m.Attachment,\n    _o = _m.Avatar,\n    Avatar = _o === void 0 ? DefaultAvatar : _o,\n    _p = _m.EditMessageInput,\n    EditMessageInput = _p === void 0 ? DefaultEditMessageForm : _p,\n    _q = _m.MessageDeleted,\n    MessageDeleted = _q === void 0 ? DefaultMessageDeleted : _q,\n    _r = _m.MessageRepliesCountButton,\n    MessageRepliesCountButton = _r === void 0 ? DefaultMessageRepliesCountButton : _r,\n    _s = _m.PinIndicator,\n    PinIndicator = _s === void 0 ? DefaultPinIndicator : _s,\n    _t = _m.QuotedMessage,\n    QuotedMessage = _t === void 0 ? DefaultQuotedMessage : _t,\n    _u = _m.ReactionsList,\n    ReactionsList = _u === void 0 ? DefaultReactionsList : _u,\n    _v = _m.ReactionSelector,\n    ReactionSelector = _v === void 0 ? DefaultReactionSelector : _v;\n  var _w = useTranslationContext('MessageLivestream'),\n    t = _w.t,\n    userLanguage = _w.userLanguage;\n  var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n  var messageText = useMemo(function () {\n    return renderText(messageTextToRender, message.mentioned_users);\n  }, [message.mentioned_users, messageTextToRender]);\n  var firstGroupStyle = groupStyles ? groupStyles[0] : 'single';\n  if (message.customType === 'message.date') {\n    return null;\n  }\n  if (message.deleted_at) {\n    return React.createElement(MessageDeleted, {\n      message: message\n    });\n  }\n  if (editing) {\n    return React.createElement(\"div\", {\n      className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--editing\",\n      \"data-testid\": 'message-livestream-edit'\n    }, (firstGroupStyle === 'top' || firstGroupStyle === 'single') && React.createElement(\"div\", {\n      className: 'str-chat__message-team-meta'\n    }, React.createElement(Avatar, {\n      image: (_b = message.user) === null || _b === void 0 ? void 0 : _b.image,\n      name: ((_c = message.user) === null || _c === void 0 ? void 0 : _c.name) || ((_d = message.user) === null || _d === void 0 ? void 0 : _d.id),\n      onClick: onUserClick,\n      onMouseOver: onUserHover,\n      size: 40\n    })), React.createElement(MessageInput, {\n      clearEditingState: clearEditingState,\n      Input: EditMessageInput,\n      message: message\n    }));\n  }\n  return React.createElement(React.Fragment, null, message.pinned && React.createElement(\"div\", {\n    className: 'str-chat__message-livestream-pin-indicator'\n  }, React.createElement(PinIndicator, {\n    message: message,\n    t: t\n  })), React.createElement(\"div\", {\n    className: \"str-chat__message-livestream str-chat__message-livestream--\" + firstGroupStyle + \" str-chat__message-livestream--\" + message.type + \" str-chat__message-livestream--\" + message.status + \" \" + (initialMessage ? 'str-chat__message-livestream--initial-message' : '') + \" \" + (message.pinned ? 'pinned-message' : ''),\n    \"data-testid\": 'message-livestream',\n    ref: messageWrapperRef\n  }, showDetailedReactions && isReactionEnabled && React.createElement(ReactionSelector, {\n    ref: reactionSelectorRef\n  }), React.createElement(MessageLivestreamActions, {\n    messageWrapperRef: messageWrapperRef,\n    onReactionListClick: onReactionListClick\n  }), React.createElement(\"div\", {\n    className: 'str-chat__message-livestream-left'\n  }, React.createElement(Avatar, {\n    image: (_e = message.user) === null || _e === void 0 ? void 0 : _e.image,\n    name: ((_f = message.user) === null || _f === void 0 ? void 0 : _f.name) || ((_g = message.user) === null || _g === void 0 ? void 0 : _g.id),\n    onClick: onUserClick,\n    onMouseOver: onUserHover,\n    size: 30\n  })), React.createElement(\"div\", {\n    className: 'str-chat__message-livestream-right'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-livestream-content'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-livestream-author'\n  }, React.createElement(\"strong\", null, ((_h = message.user) === null || _h === void 0 ? void 0 : _h.name) || ((_j = message.user) === null || _j === void 0 ? void 0 : _j.id)), message.type === 'error' && React.createElement(\"div\", {\n    className: 'str-chat__message-team-error-header'\n  }, t('Only visible to you'))), React.createElement(\"div\", {\n    className: isOnlyEmojis(message.text) ? 'str-chat__message-livestream-text--is-emoji' : '',\n    \"data-testid\": 'message-livestream-text',\n    onClick: onMentionsClickMessage,\n    onMouseOver: onMentionsHoverMessage\n  }, message.quoted_message && React.createElement(\"div\", {\n    className: 'livestream-quoted-message'\n  }, React.createElement(QuotedMessage, null)), message.type !== 'error' && message.status !== 'failed' && !unsafeHTML && messageText, message.type !== 'error' && message.status !== 'failed' && unsafeHTML && !!message.html && React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: message.html\n    }\n  }), message.type === 'error' && !message.command && React.createElement(\"p\", {\n    \"data-testid\": 'message-livestream-error'\n  }, React.createElement(ErrorIcon, null), message.text), message.type === 'error' && message.command && React.createElement(\"p\", {\n    \"data-testid\": 'message-livestream-command-error'\n  }, React.createElement(ErrorIcon, null), React.createElement(\"strong\", null, \"/\", message.command), \" is not a valid command\"), message.status === 'failed' && React.createElement(\"p\", {\n    onClick: message.errorStatusCode !== 403 ? function () {\n      return handleRetry(message);\n    } : undefined\n  }, React.createElement(ErrorIcon, null), message.errorStatusCode !== 403 ? t('Message Failed · Click to try again') : t('Message Failed · Unauthorized'))), ((_k = message.attachments) === null || _k === void 0 ? void 0 : _k.length) ? React.createElement(Attachment, {\n    actionHandler: handleAction,\n    attachments: message.attachments\n  }) : null, isReactionEnabled && React.createElement(ReactionsList, null), !initialMessage && React.createElement(MessageRepliesCountButton, {\n    onClick: handleOpenThread,\n    reply_count: message.reply_count\n  })))));\n};\nvar MessageLivestreamActions = function (props) {\n  var messageWrapperRef = props.messageWrapperRef,\n    onReactionListClick = props.onReactionListClick;\n  var _a = useComponentContext('MessageLivestream').MessageTimestamp,\n    MessageTimestamp = _a === void 0 ? DefaultTimestamp : _a;\n  var _b = useMessageContext('MessageLivestream'),\n    getMessageActions = _b.getMessageActions,\n    handleOpenThread = _b.handleOpenThread,\n    initialMessage = _b.initialMessage,\n    message = _b.message,\n    threadList = _b.threadList;\n  var _c = useState(false),\n    actionsBoxOpen = _c[0],\n    setActionsBoxOpen = _c[1];\n  var hideOptions = useCallback(function () {\n    return setActionsBoxOpen(false);\n  }, []);\n  var messageDeletedAt = !!message.deleted_at;\n  var messageWrapper = messageWrapperRef === null || messageWrapperRef === void 0 ? void 0 : messageWrapperRef.current;\n  var messageActions = getMessageActions();\n  var showActionsBox = showMessageActionsBox(messageActions);\n  var shouldShowReactions = messageActions.indexOf(MESSAGE_ACTIONS.react) > -1;\n  var shouldShowReplies = messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 && !threadList;\n  useEffect(function () {\n    if (messageWrapper) {\n      messageWrapper.addEventListener('mouseleave', hideOptions);\n    }\n    return function () {\n      if (messageWrapper) {\n        messageWrapper.removeEventListener('mouseleave', hideOptions);\n      }\n    };\n  }, [messageWrapper, hideOptions]);\n  useEffect(function () {\n    if (messageDeletedAt) {\n      document.removeEventListener('click', hideOptions);\n    }\n  }, [messageDeletedAt, hideOptions]);\n  useEffect(function () {\n    if (actionsBoxOpen) {\n      document.addEventListener('click', hideOptions);\n    } else {\n      document.removeEventListener('click', hideOptions);\n    }\n    return function () {\n      document.removeEventListener('click', hideOptions);\n    };\n  }, [actionsBoxOpen, hideOptions]);\n  if (initialMessage || !message || message.type === 'error' || message.type === 'system' || message.type === 'ephemeral' || message.status === 'failed' || message.status === 'sending') {\n    return null;\n  }\n  return React.createElement(\"div\", {\n    className: \"str-chat__message-livestream-actions\",\n    \"data-testid\": 'message-livestream-actions'\n  }, React.createElement(MessageTimestamp, {\n    customClass: 'str-chat__message-livestream-time'\n  }), shouldShowReactions && React.createElement(\"span\", {\n    \"data-testid\": 'message-livestream-reactions-action',\n    onClick: onReactionListClick\n  }, React.createElement(\"span\", null, React.createElement(ReactionIcon, null))), shouldShowReplies && React.createElement(\"span\", {\n    \"data-testid\": 'message-livestream-thread-action',\n    onClick: handleOpenThread\n  }, React.createElement(ThreadIcon, null)), showActionsBox && React.createElement(MessageActions, {\n    inline: true\n  }));\n};\nvar MemoizedMessageLivestream = React.memo(MessageLivestreamWithContext, areMessageUIPropsEqual);\n/**\n * @deprecated - This UI component will be removed in the next major release.\n *\n * Handles the rendering of a message and depends on the Message component for all the logic.\n * Implements the look and feel for a livestream use case.\n */\nexport var MessageLivestream = function (props) {\n  var messageContext = useMessageContext('MessageLivestream');\n  var messageWrapperRef = useRef(null);\n  var reactionSelectorRef = useRef(null);\n  var message = props.message || messageContext.message;\n  var _a = useReactionClick(message, reactionSelectorRef, messageWrapperRef),\n    isReactionEnabled = _a.isReactionEnabled,\n    onReactionListClick = _a.onReactionListClick,\n    showDetailedReactions = _a.showDetailedReactions;\n  return React.createElement(MemoizedMessageLivestream, __assign({}, messageContext, {\n    isReactionEnabled: isReactionEnabled,\n    messageWrapperRef: messageWrapperRef,\n    onReactionListClick: onReactionListClick,\n    reactionSelectorRef: reactionSelectorRef,\n    showDetailedReactions: showDetailedReactions\n  }, props));\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useCallback","useEffect","useMemo","useRef","useState","MessageDeleted","DefaultMessageDeleted","MessageRepliesCountButton","DefaultMessageRepliesCountButton","MessageTimestamp","DefaultTimestamp","useReactionClick","PinIndicator","DefaultPinIndicator","ErrorIcon","ReactionIcon","ThreadIcon","QuotedMessage","DefaultQuotedMessage","areMessageUIPropsEqual","MESSAGE_ACTIONS","showMessageActionsBox","Avatar","DefaultAvatar","MessageActions","EditMessageForm","DefaultEditMessageForm","MessageInput","ReactionSelector","DefaultReactionSelector","SimpleReactionsList","DefaultReactionsList","useComponentContext","useMessageContext","useTranslationContext","renderText","defaultRenderText","isOnlyEmojis","MessageLivestreamWithContext","props","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","clearEditingState","editing","groupStyles","handleAction","handleOpenThread","handleRetry","initialMessage","isReactionEnabled","message","messageWrapperRef","onMentionsClickMessage","onMentionsHoverMessage","onReactionListClick","onUserClick","onUserHover","reactionSelectorRef","_l","showDetailedReactions","unsafeHTML","_m","Attachment","_o","_p","EditMessageInput","_q","_r","_s","_t","_u","ReactionsList","_v","_w","userLanguage","messageTextToRender","i18n","text","messageText","mentioned_users","firstGroupStyle","customType","deleted_at","createElement","className","image","user","name","id","onClick","onMouseOver","size","Input","Fragment","pinned","type","status","ref","MessageLivestreamActions","quoted_message","html","dangerouslySetInnerHTML","__html","command","errorStatusCode","undefined","attachments","actionHandler","reply_count","getMessageActions","threadList","actionsBoxOpen","setActionsBoxOpen","hideOptions","messageDeletedAt","messageWrapper","current","messageActions","showActionsBox","shouldShowReactions","indexOf","react","shouldShowReplies","reply","addEventListener","removeEventListener","document","customClass","inline","MemoizedMessageLivestream","memo","MessageLivestream","messageContext"],"sources":["C:/Users/HP/Desktop/project_medical_pager_chat-master/node_modules/stream-chat-react/dist/components/Message/MessageLivestream.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageRepliesCountButton as DefaultMessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { MessageTimestamp as DefaultTimestamp } from './MessageTimestamp';\nimport { useReactionClick } from './hooks';\nimport { PinIndicator as DefaultPinIndicator, ErrorIcon, ReactionIcon, ThreadIcon } from './icons';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { areMessageUIPropsEqual, MESSAGE_ACTIONS, showMessageActionsBox } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { MessageActions } from '../MessageActions';\nimport { EditMessageForm as DefaultEditMessageForm, MessageInput } from '../MessageInput';\nimport { ReactionSelector as DefaultReactionSelector, SimpleReactionsList as DefaultReactionsList, } from '../Reactions';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\nvar MessageLivestreamWithContext = function (props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    var clearEditingState = props.clearEditingState, editing = props.editing, groupStyles = props.groupStyles, handleAction = props.handleAction, handleOpenThread = props.handleOpenThread, handleRetry = props.handleRetry, initialMessage = props.initialMessage, isReactionEnabled = props.isReactionEnabled, message = props.message, messageWrapperRef = props.messageWrapperRef, onMentionsClickMessage = props.onMentionsClickMessage, onMentionsHoverMessage = props.onMentionsHoverMessage, onReactionListClick = props.onReactionListClick, onUserClick = props.onUserClick, onUserHover = props.onUserHover, reactionSelectorRef = props.reactionSelectorRef, _l = props.renderText, renderText = _l === void 0 ? defaultRenderText : _l, showDetailedReactions = props.showDetailedReactions, unsafeHTML = props.unsafeHTML;\n    var _m = useComponentContext('MessageLivestream'), Attachment = _m.Attachment, _o = _m.Avatar, Avatar = _o === void 0 ? DefaultAvatar : _o, _p = _m.EditMessageInput, EditMessageInput = _p === void 0 ? DefaultEditMessageForm : _p, _q = _m.MessageDeleted, MessageDeleted = _q === void 0 ? DefaultMessageDeleted : _q, _r = _m.MessageRepliesCountButton, MessageRepliesCountButton = _r === void 0 ? DefaultMessageRepliesCountButton : _r, _s = _m.PinIndicator, PinIndicator = _s === void 0 ? DefaultPinIndicator : _s, _t = _m.QuotedMessage, QuotedMessage = _t === void 0 ? DefaultQuotedMessage : _t, _u = _m.ReactionsList, ReactionsList = _u === void 0 ? DefaultReactionsList : _u, _v = _m.ReactionSelector, ReactionSelector = _v === void 0 ? DefaultReactionSelector : _v;\n    var _w = useTranslationContext('MessageLivestream'), t = _w.t, userLanguage = _w.userLanguage;\n    var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n    var messageText = useMemo(function () { return renderText(messageTextToRender, message.mentioned_users); }, [\n        message.mentioned_users,\n        messageTextToRender,\n    ]);\n    var firstGroupStyle = groupStyles ? groupStyles[0] : 'single';\n    if (message.customType === 'message.date') {\n        return null;\n    }\n    if (message.deleted_at) {\n        return React.createElement(MessageDeleted, { message: message });\n    }\n    if (editing) {\n        return (React.createElement(\"div\", { className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--editing\", \"data-testid\": 'message-livestream-edit' },\n            (firstGroupStyle === 'top' || firstGroupStyle === 'single') && (React.createElement(\"div\", { className: 'str-chat__message-team-meta' },\n                React.createElement(Avatar, { image: (_b = message.user) === null || _b === void 0 ? void 0 : _b.image, name: ((_c = message.user) === null || _c === void 0 ? void 0 : _c.name) || ((_d = message.user) === null || _d === void 0 ? void 0 : _d.id), onClick: onUserClick, onMouseOver: onUserHover, size: 40 }))),\n            React.createElement(MessageInput, { clearEditingState: clearEditingState, Input: EditMessageInput, message: message })));\n    }\n    return (React.createElement(React.Fragment, null,\n        message.pinned && (React.createElement(\"div\", { className: 'str-chat__message-livestream-pin-indicator' },\n            React.createElement(PinIndicator, { message: message, t: t }))),\n        React.createElement(\"div\", { className: \"str-chat__message-livestream str-chat__message-livestream--\" + firstGroupStyle + \" str-chat__message-livestream--\" + message.type + \" str-chat__message-livestream--\" + message.status + \" \" + (initialMessage ? 'str-chat__message-livestream--initial-message' : '') + \" \" + (message.pinned ? 'pinned-message' : ''), \"data-testid\": 'message-livestream', ref: messageWrapperRef },\n            showDetailedReactions && isReactionEnabled && (React.createElement(ReactionSelector, { ref: reactionSelectorRef })),\n            React.createElement(MessageLivestreamActions, { messageWrapperRef: messageWrapperRef, onReactionListClick: onReactionListClick }),\n            React.createElement(\"div\", { className: 'str-chat__message-livestream-left' },\n                React.createElement(Avatar, { image: (_e = message.user) === null || _e === void 0 ? void 0 : _e.image, name: ((_f = message.user) === null || _f === void 0 ? void 0 : _f.name) || ((_g = message.user) === null || _g === void 0 ? void 0 : _g.id), onClick: onUserClick, onMouseOver: onUserHover, size: 30 })),\n            React.createElement(\"div\", { className: 'str-chat__message-livestream-right' },\n                React.createElement(\"div\", { className: 'str-chat__message-livestream-content' },\n                    React.createElement(\"div\", { className: 'str-chat__message-livestream-author' },\n                        React.createElement(\"strong\", null, ((_h = message.user) === null || _h === void 0 ? void 0 : _h.name) || ((_j = message.user) === null || _j === void 0 ? void 0 : _j.id)),\n                        message.type === 'error' && (React.createElement(\"div\", { className: 'str-chat__message-team-error-header' }, t('Only visible to you')))),\n                    React.createElement(\"div\", { className: isOnlyEmojis(message.text) ? 'str-chat__message-livestream-text--is-emoji' : '', \"data-testid\": 'message-livestream-text', onClick: onMentionsClickMessage, onMouseOver: onMentionsHoverMessage },\n                        message.quoted_message && (React.createElement(\"div\", { className: 'livestream-quoted-message' },\n                            React.createElement(QuotedMessage, null))),\n                        message.type !== 'error' &&\n                            message.status !== 'failed' &&\n                            !unsafeHTML &&\n                            messageText,\n                        message.type !== 'error' &&\n                            message.status !== 'failed' &&\n                            unsafeHTML &&\n                            !!message.html && React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: message.html } }),\n                        message.type === 'error' && !message.command && (React.createElement(\"p\", { \"data-testid\": 'message-livestream-error' },\n                            React.createElement(ErrorIcon, null),\n                            message.text)),\n                        message.type === 'error' && message.command && (React.createElement(\"p\", { \"data-testid\": 'message-livestream-command-error' },\n                            React.createElement(ErrorIcon, null),\n                            React.createElement(\"strong\", null,\n                                \"/\",\n                                message.command),\n                            \" is not a valid command\")),\n                        message.status === 'failed' && (React.createElement(\"p\", { onClick: message.errorStatusCode !== 403 ? function () { return handleRetry(message); } : undefined },\n                            React.createElement(ErrorIcon, null),\n                            message.errorStatusCode !== 403\n                                ? t('Message Failed · Click to try again')\n                                : t('Message Failed · Unauthorized')))),\n                    ((_k = message.attachments) === null || _k === void 0 ? void 0 : _k.length) ? (React.createElement(Attachment, { actionHandler: handleAction, attachments: message.attachments })) : null,\n                    isReactionEnabled && React.createElement(ReactionsList, null),\n                    !initialMessage && (React.createElement(MessageRepliesCountButton, { onClick: handleOpenThread, reply_count: message.reply_count })))))));\n};\nvar MessageLivestreamActions = function (props) {\n    var messageWrapperRef = props.messageWrapperRef, onReactionListClick = props.onReactionListClick;\n    var _a = useComponentContext('MessageLivestream').MessageTimestamp, MessageTimestamp = _a === void 0 ? DefaultTimestamp : _a;\n    var _b = useMessageContext('MessageLivestream'), getMessageActions = _b.getMessageActions, handleOpenThread = _b.handleOpenThread, initialMessage = _b.initialMessage, message = _b.message, threadList = _b.threadList;\n    var _c = useState(false), actionsBoxOpen = _c[0], setActionsBoxOpen = _c[1];\n    var hideOptions = useCallback(function () { return setActionsBoxOpen(false); }, []);\n    var messageDeletedAt = !!message.deleted_at;\n    var messageWrapper = messageWrapperRef === null || messageWrapperRef === void 0 ? void 0 : messageWrapperRef.current;\n    var messageActions = getMessageActions();\n    var showActionsBox = showMessageActionsBox(messageActions);\n    var shouldShowReactions = messageActions.indexOf(MESSAGE_ACTIONS.react) > -1;\n    var shouldShowReplies = messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 && !threadList;\n    useEffect(function () {\n        if (messageWrapper) {\n            messageWrapper.addEventListener('mouseleave', hideOptions);\n        }\n        return function () {\n            if (messageWrapper) {\n                messageWrapper.removeEventListener('mouseleave', hideOptions);\n            }\n        };\n    }, [messageWrapper, hideOptions]);\n    useEffect(function () {\n        if (messageDeletedAt) {\n            document.removeEventListener('click', hideOptions);\n        }\n    }, [messageDeletedAt, hideOptions]);\n    useEffect(function () {\n        if (actionsBoxOpen) {\n            document.addEventListener('click', hideOptions);\n        }\n        else {\n            document.removeEventListener('click', hideOptions);\n        }\n        return function () {\n            document.removeEventListener('click', hideOptions);\n        };\n    }, [actionsBoxOpen, hideOptions]);\n    if (initialMessage ||\n        !message ||\n        message.type === 'error' ||\n        message.type === 'system' ||\n        message.type === 'ephemeral' ||\n        message.status === 'failed' ||\n        message.status === 'sending') {\n        return null;\n    }\n    return (React.createElement(\"div\", { className: \"str-chat__message-livestream-actions\", \"data-testid\": 'message-livestream-actions' },\n        React.createElement(MessageTimestamp, { customClass: 'str-chat__message-livestream-time' }),\n        shouldShowReactions && (React.createElement(\"span\", { \"data-testid\": 'message-livestream-reactions-action', onClick: onReactionListClick },\n            React.createElement(\"span\", null,\n                React.createElement(ReactionIcon, null)))),\n        shouldShowReplies && (React.createElement(\"span\", { \"data-testid\": 'message-livestream-thread-action', onClick: handleOpenThread },\n            React.createElement(ThreadIcon, null))),\n        showActionsBox && React.createElement(MessageActions, { inline: true })));\n};\nvar MemoizedMessageLivestream = React.memo(MessageLivestreamWithContext, areMessageUIPropsEqual);\n/**\n * @deprecated - This UI component will be removed in the next major release.\n *\n * Handles the rendering of a message and depends on the Message component for all the logic.\n * Implements the look and feel for a livestream use case.\n */\nexport var MessageLivestream = function (props) {\n    var messageContext = useMessageContext('MessageLivestream');\n    var messageWrapperRef = useRef(null);\n    var reactionSelectorRef = useRef(null);\n    var message = props.message || messageContext.message;\n    var _a = useReactionClick(message, reactionSelectorRef, messageWrapperRef), isReactionEnabled = _a.isReactionEnabled, onReactionListClick = _a.onReactionListClick, showDetailedReactions = _a.showDetailedReactions;\n    return (React.createElement(MemoizedMessageLivestream, __assign({}, messageContext, { isReactionEnabled: isReactionEnabled, messageWrapperRef: messageWrapperRef, onReactionListClick: onReactionListClick, reactionSelectorRef: reactionSelectorRef, showDetailedReactions: showDetailedReactions }, props)));\n};\n"],"mappings":"AAAA,IAAIA,QAAQ,GAAI,IAAI,IAAI,IAAI,CAACA,QAAQ,IAAK,YAAY;EAClDA,QAAQ,GAAGC,MAAM,CAACC,MAAM,IAAI,UAASC,CAAC,EAAE;IACpC,KAAK,IAAIC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACjDD,CAAC,GAAGG,SAAS,CAACF,CAAC,CAAC;MAChB,KAAK,IAAII,CAAC,IAAIL,CAAC,EAAE,IAAIH,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,EAC3DN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IACnB;IACA,OAAON,CAAC;EACZ,CAAC;EACD,OAAOH,QAAQ,CAACa,KAAK,CAAC,IAAI,EAAEN,SAAS,CAAC;AAC1C,CAAC;AACD,OAAOO,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAChF,SAASC,cAAc,IAAIC,qBAAqB,QAAQ,kBAAkB;AAC1E,SAASC,yBAAyB,IAAIC,gCAAgC,QAAQ,6BAA6B;AAC3G,SAASC,gBAAgB,IAAIC,gBAAgB,QAAQ,oBAAoB;AACzE,SAASC,gBAAgB,QAAQ,SAAS;AAC1C,SAASC,YAAY,IAAIC,mBAAmB,EAAEC,SAAS,EAAEC,YAAY,EAAEC,UAAU,QAAQ,SAAS;AAClG,SAASC,aAAa,IAAIC,oBAAoB,QAAQ,iBAAiB;AACvE,SAASC,sBAAsB,EAAEC,eAAe,EAAEC,qBAAqB,QAAQ,SAAS;AACxF,SAASC,MAAM,IAAIC,aAAa,QAAQ,WAAW;AACnD,SAASC,cAAc,QAAQ,mBAAmB;AAClD,SAASC,eAAe,IAAIC,sBAAsB,EAAEC,YAAY,QAAQ,iBAAiB;AACzF,SAASC,gBAAgB,IAAIC,uBAAuB,EAAEC,mBAAmB,IAAIC,oBAAoB,QAAS,cAAc;AACxH,SAASC,mBAAmB,QAAQ,gCAAgC;AACpE,SAASC,iBAAiB,QAAQ,8BAA8B;AAChE,SAASC,qBAAqB,QAAQ,kCAAkC;AACxE,SAASC,UAAU,IAAIC,iBAAiB,EAAEC,YAAY,QAAQ,aAAa;AAC3E,IAAIC,4BAA4B,GAAG,SAAAA,CAAUC,KAAK,EAAE;EAChD,IAAIC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;EAC1C,IAAIC,iBAAiB,GAAGX,KAAK,CAACW,iBAAiB;IAAEC,OAAO,GAAGZ,KAAK,CAACY,OAAO;IAAEC,WAAW,GAAGb,KAAK,CAACa,WAAW;IAAEC,YAAY,GAAGd,KAAK,CAACc,YAAY;IAAEC,gBAAgB,GAAGf,KAAK,CAACe,gBAAgB;IAAEC,WAAW,GAAGhB,KAAK,CAACgB,WAAW;IAAEC,cAAc,GAAGjB,KAAK,CAACiB,cAAc;IAAEC,iBAAiB,GAAGlB,KAAK,CAACkB,iBAAiB;IAAEC,OAAO,GAAGnB,KAAK,CAACmB,OAAO;IAAEC,iBAAiB,GAAGpB,KAAK,CAACoB,iBAAiB;IAAEC,sBAAsB,GAAGrB,KAAK,CAACqB,sBAAsB;IAAEC,sBAAsB,GAAGtB,KAAK,CAACsB,sBAAsB;IAAEC,mBAAmB,GAAGvB,KAAK,CAACuB,mBAAmB;IAAEC,WAAW,GAAGxB,KAAK,CAACwB,WAAW;IAAEC,WAAW,GAAGzB,KAAK,CAACyB,WAAW;IAAEC,mBAAmB,GAAG1B,KAAK,CAAC0B,mBAAmB;IAAEC,EAAE,GAAG3B,KAAK,CAACJ,UAAU;IAAEA,UAAU,GAAG+B,EAAE,KAAK,KAAK,CAAC,GAAG9B,iBAAiB,GAAG8B,EAAE;IAAEC,qBAAqB,GAAG5B,KAAK,CAAC4B,qBAAqB;IAAEC,UAAU,GAAG7B,KAAK,CAAC6B,UAAU;EACpyB,IAAIC,EAAE,GAAGrC,mBAAmB,CAAC,mBAAmB,CAAC;IAAEsC,UAAU,GAAGD,EAAE,CAACC,UAAU;IAAEC,EAAE,GAAGF,EAAE,CAAC/C,MAAM;IAAEA,MAAM,GAAGiD,EAAE,KAAK,KAAK,CAAC,GAAGhD,aAAa,GAAGgD,EAAE;IAAEC,EAAE,GAAGH,EAAE,CAACI,gBAAgB;IAAEA,gBAAgB,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG9C,sBAAsB,GAAG8C,EAAE;IAAEE,EAAE,GAAGL,EAAE,CAAChE,cAAc;IAAEA,cAAc,GAAGqE,EAAE,KAAK,KAAK,CAAC,GAAGpE,qBAAqB,GAAGoE,EAAE;IAAEC,EAAE,GAAGN,EAAE,CAAC9D,yBAAyB;IAAEA,yBAAyB,GAAGoE,EAAE,KAAK,KAAK,CAAC,GAAGnE,gCAAgC,GAAGmE,EAAE;IAAEC,EAAE,GAAGP,EAAE,CAACzD,YAAY;IAAEA,YAAY,GAAGgE,EAAE,KAAK,KAAK,CAAC,GAAG/D,mBAAmB,GAAG+D,EAAE;IAAEC,EAAE,GAAGR,EAAE,CAACpD,aAAa;IAAEA,aAAa,GAAG4D,EAAE,KAAK,KAAK,CAAC,GAAG3D,oBAAoB,GAAG2D,EAAE;IAAEC,EAAE,GAAGT,EAAE,CAACU,aAAa;IAAEA,aAAa,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG/C,oBAAoB,GAAG+C,EAAE;IAAEE,EAAE,GAAGX,EAAE,CAACzC,gBAAgB;IAAEA,gBAAgB,GAAGoD,EAAE,KAAK,KAAK,CAAC,GAAGnD,uBAAuB,GAAGmD,EAAE;EAC7vB,IAAIC,EAAE,GAAG/C,qBAAqB,CAAC,mBAAmB,CAAC;IAAE9C,CAAC,GAAG6F,EAAE,CAAC7F,CAAC;IAAE8F,YAAY,GAAGD,EAAE,CAACC,YAAY;EAC7F,IAAIC,mBAAmB,GAAG,CAAC,CAAC3C,EAAE,GAAGkB,OAAO,CAAC0B,IAAI,MAAM,IAAI,IAAI5C,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC0C,YAAY,GAAG,OAAO,CAAC,KAAKxB,OAAO,CAAC2B,IAAI;EAC/H,IAAIC,WAAW,GAAGpF,OAAO,CAAC,YAAY;IAAE,OAAOiC,UAAU,CAACgD,mBAAmB,EAAEzB,OAAO,CAAC6B,eAAe,CAAC;EAAE,CAAC,EAAE,CACxG7B,OAAO,CAAC6B,eAAe,EACvBJ,mBAAmB,CACtB,CAAC;EACF,IAAIK,eAAe,GAAGpC,WAAW,GAAGA,WAAW,CAAC,CAAC,CAAC,GAAG,QAAQ;EAC7D,IAAIM,OAAO,CAAC+B,UAAU,KAAK,cAAc,EAAE;IACvC,OAAO,IAAI;EACf;EACA,IAAI/B,OAAO,CAACgC,UAAU,EAAE;IACpB,OAAO3F,KAAK,CAAC4F,aAAa,CAACtF,cAAc,EAAE;MAAEqD,OAAO,EAAEA;IAAQ,CAAC,CAAC;EACpE;EACA,IAAIP,OAAO,EAAE;IACT,OAAQpD,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;MAAEC,SAAS,EAAE,iDAAiD,GAAGJ,eAAe,GAAG,kCAAkC;MAAE,aAAa,EAAE;IAA0B,CAAC,EAChM,CAACA,eAAe,KAAK,KAAK,IAAIA,eAAe,KAAK,QAAQ,KAAMzF,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;MAAEC,SAAS,EAAE;IAA8B,CAAC,EACnI7F,KAAK,CAAC4F,aAAa,CAACrE,MAAM,EAAE;MAAEuE,KAAK,EAAE,CAACpD,EAAE,GAAGiB,OAAO,CAACoC,IAAI,MAAM,IAAI,IAAIrD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACoD,KAAK;MAAEE,IAAI,EAAE,CAAC,CAACrD,EAAE,GAAGgB,OAAO,CAACoC,IAAI,MAAM,IAAI,IAAIpD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACqD,IAAI,MAAM,CAACpD,EAAE,GAAGe,OAAO,CAACoC,IAAI,MAAM,IAAI,IAAInD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACqD,EAAE,CAAC;MAAEC,OAAO,EAAElC,WAAW;MAAEmC,WAAW,EAAElC,WAAW;MAAEmC,IAAI,EAAE;IAAG,CAAC,CAAC,CAAE,EACvTpG,KAAK,CAAC4F,aAAa,CAAChE,YAAY,EAAE;MAAEuB,iBAAiB,EAAEA,iBAAiB;MAAEkD,KAAK,EAAE3B,gBAAgB;MAAEf,OAAO,EAAEA;IAAQ,CAAC,CAAC,CAAC;EAC/H;EACA,OAAQ3D,KAAK,CAAC4F,aAAa,CAAC5F,KAAK,CAACsG,QAAQ,EAAE,IAAI,EAC5C3C,OAAO,CAAC4C,MAAM,IAAKvG,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAA6C,CAAC,EACrG7F,KAAK,CAAC4F,aAAa,CAAC/E,YAAY,EAAE;IAAE8C,OAAO,EAAEA,OAAO;IAAEtE,CAAC,EAAEA;EAAE,CAAC,CAAC,CAAE,EACnEW,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE,6DAA6D,GAAGJ,eAAe,GAAG,iCAAiC,GAAG9B,OAAO,CAAC6C,IAAI,GAAG,iCAAiC,GAAG7C,OAAO,CAAC8C,MAAM,GAAG,GAAG,IAAIhD,cAAc,GAAG,+CAA+C,GAAG,EAAE,CAAC,GAAG,GAAG,IAAIE,OAAO,CAAC4C,MAAM,GAAG,gBAAgB,GAAG,EAAE,CAAC;IAAE,aAAa,EAAE,oBAAoB;IAAEG,GAAG,EAAE9C;EAAkB,CAAC,EAC3ZQ,qBAAqB,IAAIV,iBAAiB,IAAK1D,KAAK,CAAC4F,aAAa,CAAC/D,gBAAgB,EAAE;IAAE6E,GAAG,EAAExC;EAAoB,CAAC,CAAE,EACnHlE,KAAK,CAAC4F,aAAa,CAACe,wBAAwB,EAAE;IAAE/C,iBAAiB,EAAEA,iBAAiB;IAAEG,mBAAmB,EAAEA;EAAoB,CAAC,CAAC,EACjI/D,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAoC,CAAC,EACzE7F,KAAK,CAAC4F,aAAa,CAACrE,MAAM,EAAE;IAAEuE,KAAK,EAAE,CAACjD,EAAE,GAAGc,OAAO,CAACoC,IAAI,MAAM,IAAI,IAAIlD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACiD,KAAK;IAAEE,IAAI,EAAE,CAAC,CAAClD,EAAE,GAAGa,OAAO,CAACoC,IAAI,MAAM,IAAI,IAAIjD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACkD,IAAI,MAAM,CAACjD,EAAE,GAAGY,OAAO,CAACoC,IAAI,MAAM,IAAI,IAAIhD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACkD,EAAE,CAAC;IAAEC,OAAO,EAAElC,WAAW;IAAEmC,WAAW,EAAElC,WAAW;IAAEmC,IAAI,EAAE;EAAG,CAAC,CAAC,CAAC,EACtTpG,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAqC,CAAC,EAC1E7F,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAuC,CAAC,EAC5E7F,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAsC,CAAC,EAC3E7F,KAAK,CAAC4F,aAAa,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC5C,EAAE,GAAGW,OAAO,CAACoC,IAAI,MAAM,IAAI,IAAI/C,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACgD,IAAI,MAAM,CAAC/C,EAAE,GAAGU,OAAO,CAACoC,IAAI,MAAM,IAAI,IAAI9C,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACgD,EAAE,CAAC,CAAC,EAC3KtC,OAAO,CAAC6C,IAAI,KAAK,OAAO,IAAKxG,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAsC,CAAC,EAAExG,CAAC,CAAC,qBAAqB,CAAC,CAAE,CAAC,EAC7IW,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAEvD,YAAY,CAACqB,OAAO,CAAC2B,IAAI,CAAC,GAAG,6CAA6C,GAAG,EAAE;IAAE,aAAa,EAAE,yBAAyB;IAAEY,OAAO,EAAErC,sBAAsB;IAAEsC,WAAW,EAAErC;EAAuB,CAAC,EACrOH,OAAO,CAACiD,cAAc,IAAK5G,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAA4B,CAAC,EAC5F7F,KAAK,CAAC4F,aAAa,CAAC1E,aAAa,EAAE,IAAI,CAAC,CAAE,EAC9CyC,OAAO,CAAC6C,IAAI,KAAK,OAAO,IACpB7C,OAAO,CAAC8C,MAAM,KAAK,QAAQ,IAC3B,CAACpC,UAAU,IACXkB,WAAW,EACf5B,OAAO,CAAC6C,IAAI,KAAK,OAAO,IACpB7C,OAAO,CAAC8C,MAAM,KAAK,QAAQ,IAC3BpC,UAAU,IACV,CAAC,CAACV,OAAO,CAACkD,IAAI,IAAI7G,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEkB,uBAAuB,EAAE;MAAEC,MAAM,EAAEpD,OAAO,CAACkD;IAAK;EAAE,CAAC,CAAC,EACvGlD,OAAO,CAAC6C,IAAI,KAAK,OAAO,IAAI,CAAC7C,OAAO,CAACqD,OAAO,IAAKhH,KAAK,CAAC4F,aAAa,CAAC,GAAG,EAAE;IAAE,aAAa,EAAE;EAA2B,CAAC,EACnH5F,KAAK,CAAC4F,aAAa,CAAC7E,SAAS,EAAE,IAAI,CAAC,EACpC4C,OAAO,CAAC2B,IAAI,CAAE,EAClB3B,OAAO,CAAC6C,IAAI,KAAK,OAAO,IAAI7C,OAAO,CAACqD,OAAO,IAAKhH,KAAK,CAAC4F,aAAa,CAAC,GAAG,EAAE;IAAE,aAAa,EAAE;EAAmC,CAAC,EAC1H5F,KAAK,CAAC4F,aAAa,CAAC7E,SAAS,EAAE,IAAI,CAAC,EACpCf,KAAK,CAAC4F,aAAa,CAAC,QAAQ,EAAE,IAAI,EAC9B,GAAG,EACHjC,OAAO,CAACqD,OAAO,CAAC,EACpB,yBAAyB,CAAE,EAC/BrD,OAAO,CAAC8C,MAAM,KAAK,QAAQ,IAAKzG,KAAK,CAAC4F,aAAa,CAAC,GAAG,EAAE;IAAEM,OAAO,EAAEvC,OAAO,CAACsD,eAAe,KAAK,GAAG,GAAG,YAAY;MAAE,OAAOzD,WAAW,CAACG,OAAO,CAAC;IAAE,CAAC,GAAGuD;EAAU,CAAC,EAC5JlH,KAAK,CAAC4F,aAAa,CAAC7E,SAAS,EAAE,IAAI,CAAC,EACpC4C,OAAO,CAACsD,eAAe,KAAK,GAAG,GACzB5H,CAAC,CAAC,qCAAqC,CAAC,GACxCA,CAAC,CAAC,+BAA+B,CAAC,CAAE,CAAC,EACnD,CAAC,CAAC6D,EAAE,GAAGS,OAAO,CAACwD,WAAW,MAAM,IAAI,IAAIjE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACxD,MAAM,IAAKM,KAAK,CAAC4F,aAAa,CAACrB,UAAU,EAAE;IAAE6C,aAAa,EAAE9D,YAAY;IAAE6D,WAAW,EAAExD,OAAO,CAACwD;EAAY,CAAC,CAAC,GAAI,IAAI,EACzLzD,iBAAiB,IAAI1D,KAAK,CAAC4F,aAAa,CAACZ,aAAa,EAAE,IAAI,CAAC,EAC7D,CAACvB,cAAc,IAAKzD,KAAK,CAAC4F,aAAa,CAACpF,yBAAyB,EAAE;IAAE0F,OAAO,EAAE3C,gBAAgB;IAAE8D,WAAW,EAAE1D,OAAO,CAAC0D;EAAY,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC;AAC5J,CAAC;AACD,IAAIV,wBAAwB,GAAG,SAAAA,CAAUnE,KAAK,EAAE;EAC5C,IAAIoB,iBAAiB,GAAGpB,KAAK,CAACoB,iBAAiB;IAAEG,mBAAmB,GAAGvB,KAAK,CAACuB,mBAAmB;EAChG,IAAItB,EAAE,GAAGR,mBAAmB,CAAC,mBAAmB,CAAC,CAACvB,gBAAgB;IAAEA,gBAAgB,GAAG+B,EAAE,KAAK,KAAK,CAAC,GAAG9B,gBAAgB,GAAG8B,EAAE;EAC5H,IAAIC,EAAE,GAAGR,iBAAiB,CAAC,mBAAmB,CAAC;IAAEoF,iBAAiB,GAAG5E,EAAE,CAAC4E,iBAAiB;IAAE/D,gBAAgB,GAAGb,EAAE,CAACa,gBAAgB;IAAEE,cAAc,GAAGf,EAAE,CAACe,cAAc;IAAEE,OAAO,GAAGjB,EAAE,CAACiB,OAAO;IAAE4D,UAAU,GAAG7E,EAAE,CAAC6E,UAAU;EACvN,IAAI5E,EAAE,GAAGtC,QAAQ,CAAC,KAAK,CAAC;IAAEmH,cAAc,GAAG7E,EAAE,CAAC,CAAC,CAAC;IAAE8E,iBAAiB,GAAG9E,EAAE,CAAC,CAAC,CAAC;EAC3E,IAAI+E,WAAW,GAAGzH,WAAW,CAAC,YAAY;IAAE,OAAOwH,iBAAiB,CAAC,KAAK,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;EACnF,IAAIE,gBAAgB,GAAG,CAAC,CAAChE,OAAO,CAACgC,UAAU;EAC3C,IAAIiC,cAAc,GAAGhE,iBAAiB,KAAK,IAAI,IAAIA,iBAAiB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,iBAAiB,CAACiE,OAAO;EACpH,IAAIC,cAAc,GAAGR,iBAAiB,CAAC,CAAC;EACxC,IAAIS,cAAc,GAAGzG,qBAAqB,CAACwG,cAAc,CAAC;EAC1D,IAAIE,mBAAmB,GAAGF,cAAc,CAACG,OAAO,CAAC5G,eAAe,CAAC6G,KAAK,CAAC,GAAG,CAAC,CAAC;EAC5E,IAAIC,iBAAiB,GAAGL,cAAc,CAACG,OAAO,CAAC5G,eAAe,CAAC+G,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAACb,UAAU;EACzFrH,SAAS,CAAC,YAAY;IAClB,IAAI0H,cAAc,EAAE;MAChBA,cAAc,CAACS,gBAAgB,CAAC,YAAY,EAAEX,WAAW,CAAC;IAC9D;IACA,OAAO,YAAY;MACf,IAAIE,cAAc,EAAE;QAChBA,cAAc,CAACU,mBAAmB,CAAC,YAAY,EAAEZ,WAAW,CAAC;MACjE;IACJ,CAAC;EACL,CAAC,EAAE,CAACE,cAAc,EAAEF,WAAW,CAAC,CAAC;EACjCxH,SAAS,CAAC,YAAY;IAClB,IAAIyH,gBAAgB,EAAE;MAClBY,QAAQ,CAACD,mBAAmB,CAAC,OAAO,EAAEZ,WAAW,CAAC;IACtD;EACJ,CAAC,EAAE,CAACC,gBAAgB,EAAED,WAAW,CAAC,CAAC;EACnCxH,SAAS,CAAC,YAAY;IAClB,IAAIsH,cAAc,EAAE;MAChBe,QAAQ,CAACF,gBAAgB,CAAC,OAAO,EAAEX,WAAW,CAAC;IACnD,CAAC,MACI;MACDa,QAAQ,CAACD,mBAAmB,CAAC,OAAO,EAAEZ,WAAW,CAAC;IACtD;IACA,OAAO,YAAY;MACfa,QAAQ,CAACD,mBAAmB,CAAC,OAAO,EAAEZ,WAAW,CAAC;IACtD,CAAC;EACL,CAAC,EAAE,CAACF,cAAc,EAAEE,WAAW,CAAC,CAAC;EACjC,IAAIjE,cAAc,IACd,CAACE,OAAO,IACRA,OAAO,CAAC6C,IAAI,KAAK,OAAO,IACxB7C,OAAO,CAAC6C,IAAI,KAAK,QAAQ,IACzB7C,OAAO,CAAC6C,IAAI,KAAK,WAAW,IAC5B7C,OAAO,CAAC8C,MAAM,KAAK,QAAQ,IAC3B9C,OAAO,CAAC8C,MAAM,KAAK,SAAS,EAAE;IAC9B,OAAO,IAAI;EACf;EACA,OAAQzG,KAAK,CAAC4F,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE,sCAAsC;IAAE,aAAa,EAAE;EAA6B,CAAC,EACjI7F,KAAK,CAAC4F,aAAa,CAAClF,gBAAgB,EAAE;IAAE8H,WAAW,EAAE;EAAoC,CAAC,CAAC,EAC3FR,mBAAmB,IAAKhI,KAAK,CAAC4F,aAAa,CAAC,MAAM,EAAE;IAAE,aAAa,EAAE,qCAAqC;IAAEM,OAAO,EAAEnC;EAAoB,CAAC,EACtI/D,KAAK,CAAC4F,aAAa,CAAC,MAAM,EAAE,IAAI,EAC5B5F,KAAK,CAAC4F,aAAa,CAAC5E,YAAY,EAAE,IAAI,CAAC,CAAC,CAAE,EAClDmH,iBAAiB,IAAKnI,KAAK,CAAC4F,aAAa,CAAC,MAAM,EAAE;IAAE,aAAa,EAAE,kCAAkC;IAAEM,OAAO,EAAE3C;EAAiB,CAAC,EAC9HvD,KAAK,CAAC4F,aAAa,CAAC3E,UAAU,EAAE,IAAI,CAAC,CAAE,EAC3C8G,cAAc,IAAI/H,KAAK,CAAC4F,aAAa,CAACnE,cAAc,EAAE;IAAEgH,MAAM,EAAE;EAAK,CAAC,CAAC,CAAC;AAChF,CAAC;AACD,IAAIC,yBAAyB,GAAG1I,KAAK,CAAC2I,IAAI,CAACpG,4BAA4B,EAAEnB,sBAAsB,CAAC;AAChG;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIwH,iBAAiB,GAAG,SAAAA,CAAUpG,KAAK,EAAE;EAC5C,IAAIqG,cAAc,GAAG3G,iBAAiB,CAAC,mBAAmB,CAAC;EAC3D,IAAI0B,iBAAiB,GAAGxD,MAAM,CAAC,IAAI,CAAC;EACpC,IAAI8D,mBAAmB,GAAG9D,MAAM,CAAC,IAAI,CAAC;EACtC,IAAIuD,OAAO,GAAGnB,KAAK,CAACmB,OAAO,IAAIkF,cAAc,CAAClF,OAAO;EACrD,IAAIlB,EAAE,GAAG7B,gBAAgB,CAAC+C,OAAO,EAAEO,mBAAmB,EAAEN,iBAAiB,CAAC;IAAEF,iBAAiB,GAAGjB,EAAE,CAACiB,iBAAiB;IAAEK,mBAAmB,GAAGtB,EAAE,CAACsB,mBAAmB;IAAEK,qBAAqB,GAAG3B,EAAE,CAAC2B,qBAAqB;EACpN,OAAQpE,KAAK,CAAC4F,aAAa,CAAC8C,yBAAyB,EAAExJ,QAAQ,CAAC,CAAC,CAAC,EAAE2J,cAAc,EAAE;IAAEnF,iBAAiB,EAAEA,iBAAiB;IAAEE,iBAAiB,EAAEA,iBAAiB;IAAEG,mBAAmB,EAAEA,mBAAmB;IAAEG,mBAAmB,EAAEA,mBAAmB;IAAEE,qBAAqB,EAAEA;EAAsB,CAAC,EAAE5B,KAAK,CAAC,CAAC;AACjT,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}